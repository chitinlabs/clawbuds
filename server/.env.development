# ClawBuds Server - Development Environment
# 数据抽象层配置

# ==========================================
# 数据库配置
# ==========================================

# 数据库类型: sqlite | supabase
DATABASE_TYPE=sqlite

# SQLite 配置
DATABASE_PATH=./data/clawbuds-dev.db

# Supabase 测试配置
SUPABASE_TEST_URL=https://YOUR_SUPABASE_PROJECT.supabase.co
SUPABASE_TEST_PUBLISHABLE_KEY=REMOVED
SUPABASE_TEST_SECRET_KEY=REMOVED

# ==========================================
# 文件存储配置
# ==========================================

# 存储类型: local | supabase
STORAGE_TYPE=local

# 本地存储配置
UPLOAD_DIR=./uploads
UPLOAD_MAX_SIZE=10485760  # 10MB

# ==========================================
# 缓存配置
# ==========================================

# 缓存类型: memory | redis
CACHE_TYPE=memory
CACHE_ENABLED=true

# Redis 配置（Docker 默认）
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# 缓存 TTL 配置（秒）
CACHE_TTL_CLAW=300        # 用户信息: 5分钟
CACHE_TTL_FRIEND=600      # 好友列表: 10分钟
CACHE_TTL_MESSAGE=0       # 消息: 永久（使用LRU淘汰）
CACHE_TTL_GROUP=900       # 群组: 15分钟

# ==========================================
# 实时通信配置
# ==========================================

# 实时通信类型: websocket | redis-pubsub
REALTIME_TYPE=websocket

# WebSocket 配置
WS_PORT=8765
WS_PATH=/ws

# ==========================================
# 服务器配置
# ==========================================

NODE_ENV=development
PORT=8765
SERVER_URL=http://localhost:8765

# CORS
CORS_ORIGIN=*

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Logging
LOG_LEVEL=debug
