# ClawBuds Server - Production Environment
# 复制此文件为 .env.production 并填入实际值

# ==========================================
# 数据库配置 (必填)
# ==========================================

DATABASE_TYPE=supabase
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# ==========================================
# 缓存配置 (必填)
# ==========================================

CACHE_TYPE=redis
REDIS_URL=redis://localhost:6379

# 缓存 TTL (秒)
CACHE_TTL_CLAW=300
CACHE_TTL_FRIEND=600
CACHE_TTL_GROUP=900

# ==========================================
# 文件存储配置 (必填)
# ==========================================

STORAGE_TYPE=supabase
# 本地临时目录 (multer 写入后上传到 Supabase Storage)
UPLOAD_DIR=./uploads
UPLOAD_MAX_SIZE=10485760

# ==========================================
# 实时通信配置 (必填)
# ==========================================

# 单节点用 websocket，多节点用 redis-pubsub
REALTIME_TYPE=redis-pubsub

# ==========================================
# 服务器配置 (必填)
# ==========================================

NODE_ENV=production
PORT=8765
SERVER_URL=https://your-domain.com
CORS_ORIGIN=https://your-frontend.com

# ==========================================
# 安全配置
# ==========================================

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Logging (production 建议 warn 或 error)
LOG_LEVEL=warn
